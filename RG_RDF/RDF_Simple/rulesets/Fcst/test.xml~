<?xml version="1.0" encoding="UTF-8"?>
<data_set type="com.retek.ride.rule.newmodel.RuleGroup">
  <attribute name="name">
    <value>test</value>
  </attribute>
  <attribute name="description">
    <value>a rule group</value>
  </attribute>
  <attribute name="role">
    <value>user</value>
  </attribute>
  <data_model type="com.retek.ride.rule.newmodel.Rule">
    <attribute name="name">
      <value>clc_DetermApprovedMthdIn</value>
    </attribute>
    <attribute name="description">
      <value>a rule</value>
    </attribute>
    <attribute name="creator">
      <value>user</value>
    </attribute>
    <data_model type="java.lang.String">
      <attribute name="name">
        <value>E0</value>
      </attribute>
      <attribute name="formula">
        <value>DetermApprovedMthdIntx=if(position([ints].[intx])==ApproveIntx&amp;&amp;position([mth].[mthd])==ApproveMthd,DeterminantMthdIntx,0)</value>
      </attribute>
    </data_model>
  </data_model>
  <data_model type="com.retek.ride.rule.newmodel.Rule">
    <attribute name="name">
      <value>clc_MadApprovedMthdIntx</value>
    </attribute>
    <attribute name="description">
      <value>a rule</value>
    </attribute>
    <attribute name="creator">
      <value>user</value>
    </attribute>
    <data_model type="java.lang.String">
      <attribute name="name">
        <value>E0</value>
      </attribute>
      <attribute name="formula">
        <value>MadApprovedMthdIntx=if(position([ints].[intx])==ApproveIntx&amp;&amp;position([mth].[mthd])==ApproveMthd,MadMthdIntx,0)</value>
      </attribute>
    </data_model>
  </data_model>
  <data_model type="com.retek.ride.rule.newmodel.Rule">
    <attribute name="name">
      <value>clc_MapeApprovedMthdIntx</value>
    </attribute>
    <attribute name="description">
      <value>a rule</value>
    </attribute>
    <attribute name="creator">
      <value>user</value>
    </attribute>
    <data_model type="java.lang.String">
      <attribute name="name">
        <value>E0</value>
      </attribute>
      <attribute name="formula">
        <value>MapeApprovedMthdIntx=if(position([ints].[intx])==ApproveIntx&amp;&amp;position([mth].[mthd])==ApproveMthd,MapeMthdIntx,0)</value>
      </attribute>
    </data_model>
  </data_model>
  <data_model type="com.retek.ride.rule.newmodel.Rule">
    <attribute name="name">
      <value>clc_FcstApprovedMthdIntx</value>
    </attribute>
    <attribute name="description">
      <value>a rule</value>
    </attribute>
    <attribute name="creator">
      <value>user</value>
    </attribute>
    <data_model type="java.lang.String">
      <attribute name="name">
        <value>E0</value>
      </attribute>
      <attribute name="formula">
        <value>FcstApprovedMthdIntx=if(position([ints].[intx])==ApproveIntx&amp;&amp;position([mth].[mthd])==ApproveMthd,FcstMthdIntx,0)</value>
      </attribute>
    </data_model>
  </data_model>
  <data_model type="com.retek.ride.rule.newmodel.Rule">
    <attribute name="name">
      <value>calc_FcstApproved</value>
    </attribute>
    <attribute name="description">
      <value>a rule</value>
    </attribute>
    <attribute name="creator">
      <value>user</value>
    </attribute>
    <data_model type="java.lang.String">
      <attribute name="name">
        <value>E0</value>
      </attribute>
      <attribute name="formula">
        <value>FcstApproved=FcstApprovedMthdIntx</value>
      </attribute>
    </data_model>
  </data_model>
  <data_model type="com.retek.ride.rule.newmodel.Rule">
    <attribute name="name">
      <value>calc_FcstApprovedFilt</value>
    </attribute>
    <attribute name="description">
      <value>a rule</value>
    </attribute>
    <attribute name="creator">
      <value>user</value>
    </attribute>
    <data_model type="java.lang.String">
      <attribute name="name">
        <value>E0</value>
      </attribute>
      <attribute name="formula">
        <value>FcstApprovedFilt=FcstApproved</value>
      </attribute>
    </data_model>
  </data_model>
  <data_model type="com.retek.ride.rule.newmodel.Rule">
    <attribute name="name">
      <value>calc_MapeApproved</value>
    </attribute>
    <attribute name="description">
      <value>a rule</value>
    </attribute>
    <attribute name="creator">
      <value>user</value>
    </attribute>
    <data_model type="java.lang.String">
      <attribute name="name">
        <value>E0</value>
      </attribute>
      <attribute name="formula">
        <value>MapeApproved.level([prod].[itm]+[loc].[str])=MapeApprovedMthdIntx.average_pop</value>
      </attribute>
    </data_model>
  </data_model>
  <data_model type="com.retek.ride.rule.newmodel.Rule">
    <attribute name="name">
      <value>calc_MadApproved</value>
    </attribute>
    <attribute name="description">
      <value>a rule</value>
    </attribute>
    <attribute name="creator">
      <value>user</value>
    </attribute>
    <data_model type="java.lang.String">
      <attribute name="name">
        <value>E0</value>
      </attribute>
      <attribute name="formula">
        <value>MadApproved.level([prod].[itm]+[loc].[str])=MadApprovedMthdIntx.average_pop</value>
      </attribute>
    </data_model>
  </data_model>
  <data_model type="com.retek.ride.rule.newmodel.Rule">
    <attribute name="name">
      <value>calc_DetermApproved</value>
    </attribute>
    <attribute name="description">
      <value>a rule</value>
    </attribute>
    <attribute name="creator">
      <value>user</value>
    </attribute>
    <data_model type="java.lang.String">
      <attribute name="name">
        <value>E0</value>
      </attribute>
      <attribute name="formula">
        <value>DetermApproved.level([prod].[itm]+[loc].[str])=DetermApprovedMthdIntx.average_pop</value>
      </attribute>
    </data_model>
  </data_model>
  <data_model type="com.retek.ride.rule.newmodel.Rule">
    <attribute name="name">
      <value>calc_RetroFcstApprovedMI</value>
    </attribute>
    <attribute name="description">
      <value>a rule</value>
    </attribute>
    <attribute name="creator">
      <value>user</value>
    </attribute>
    <data_model type="java.lang.String">
      <attribute name="name">
        <value>E0</value>
      </attribute>
      <attribute name="formula">
        <value>RetroFcstApprovedMthdInt=if(position([ints].[intx])==ApproveIntx&amp;&amp;position([mth].[mthd])==ApproveMthd,RetroFcstMthdIntx,0)</value>
      </attribute>
    </data_model>
  </data_model>
  <data_model type="com.retek.ride.rule.newmodel.Rule">
    <attribute name="name">
      <value>calc_RetroFcstApproved</value>
    </attribute>
    <attribute name="description">
      <value>a rule</value>
    </attribute>
    <attribute name="creator">
      <value>user</value>
    </attribute>
    <data_model type="java.lang.String">
      <attribute name="name">
        <value>E0</value>
      </attribute>
      <attribute name="formula">
        <value>RetroFcstApproved=RetroFcstApprovedMthdInt.average_pop</value>
      </attribute>
    </data_model>
  </data_model>
  <data_model type="com.retek.ride.rule.newmodel.Rule">
    <attribute name="name">
      <value>calc_WMapeApproved</value>
    </attribute>
    <attribute name="description">
      <value>a rule</value>
    </attribute>
    <attribute name="creator">
      <value>user</value>
    </attribute>
    <data_model type="java.lang.String">
      <attribute name="name">
        <value>E0</value>
      </attribute>
      <attribute name="formula">
        <value>WMapeApproved=tssum(abs(SlsWb-RetroFcstApproved),RetroStartDateInt,RetroStartDateInt+5)/tssum(SlsWb,RetroStartDateInt,RetroStartDateInt+5)</value>
      </attribute>
    </data_model>
  </data_model>
  <data_model type="com.retek.ride.rule.newmodel.Rule">
    <attribute name="name">
      <value>calc_FcstMsg</value>
    </attribute>
    <attribute name="description">
      <value>a rule</value>
    </attribute>
    <attribute name="creator">
      <value>user</value>
    </attribute>
    <data_model type="java.lang.String">
      <attribute name="name">
        <value>E0</value>
      </attribute>
      <attribute name="formula">
        <value>FcstMsg="Прогноз выбран"</value>
      </attribute>
    </data_model>
  </data_model>
  <data_model type="com.retek.ride.rule.newmodel.Rule">
    <attribute name="name">
      <value>calc_LikeSkuFcstRL_1</value>
    </attribute>
    <attribute name="description">
      <value>a rule</value>
    </attribute>
    <data_model type="java.lang.String">
      <attribute name="name">
        <value>E0</value>
      </attribute>
      <attribute name="formula">
        <value>LikeSkuFcstRL=if(SubstMethod==2&amp;&amp;position([pror].[itmr])==LikeSku||SubstMethod==3&amp;&amp;position([locs].[strs])==LikeStore||SubstMethod==4&amp;&amp;position([pror].[itmr])==LikeSku&amp;&amp;position([locs].[strs])==LikeStore,if(current&gt;=index([clnd].[day],fmafstdt01XB)&amp;&amp;current&lt;=index([clnd].[day],fmafenddt01XB),LikeSkuFcstR,0),if(SubstMethod==5&amp;&amp;position([pror].[itmr])==LikeSku||SubstMethod==6&amp;&amp;position([locs].[strs])==LikeStore||SubstMethod==7&amp;&amp;position([pror].[itmr])==LikeSku&amp;&amp;position([locs].[strs])==LikeStore,if(current&gt;=index([clnd].[day],STARTDATEMEAS),tssum(SlsWb,current-index([clnd].[day],STARTDATEMEAS)+index([clnd].[day],fmahstdt01XB),current-index([clnd].[day],STARTDATEMEAS)+index([clnd].[day],fmahstdt01XB)),0),0))</value>
      </attribute>
    </data_model>
  </data_model>
</data_set>
